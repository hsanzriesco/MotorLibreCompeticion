<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Motor Libre Competición</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Fuente base y estilos generales */
        body { font-family: 'Inter', sans-serif; background-color: #0f0f0f; color: #fff; }
        .btn-primary { background-color: #e50914; color: white; border: none; }
        .btn-primary:hover { background-color: #c40711; }
    </style>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="alertas.css">

    <script src="alertas.js"></script>

    </head>
<body class="p-8">

    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-100 mb-8 border-b border-gray-800 pb-4">Panel de Administración</h1>

        <div class="bg-gray-900 p-6 rounded-xl shadow-lg mb-8">
            <h2 class="text-xl font-semibold mb-4 text-gray-300">Prueba de Alertas y Confirmación</h2>
            <div class="flex flex-wrap gap-4">
                <button onclick="testAlerta('exito')" class="px-4 py-2 rounded-lg font-bold bg-green-600 hover:bg-green-700 transition">Alerta Éxito</button>
                <button onclick="testAlerta('error')" class="px-4 py-2 rounded-lg font-bold bg-red-600 hover:bg-red-700 transition">Alerta Error</button>
                <button onclick="testAlerta('advertencia')" class="px-4 py-2 rounded-lg font-bold bg-yellow-500 text-gray-900 hover:bg-yellow-600 transition">Alerta Advertencia</button>
                <button onclick="testAlerta('info')" class="px-4 py-2 rounded-lg font-bold bg-blue-500 hover:bg-blue-600 transition">Alerta Info</button>
                <button onclick="testConfirmacion()" class="px-4 py-2 rounded-lg font-bold bg-indigo-600 hover:bg-indigo-700 transition">Mostrar Confirmación</button>
            </div>
        </div>

        <div class="bg-gray-900 p-6 rounded-xl shadow-lg min-h-[300px]">
            <h2 class="text-xl font-semibold mb-4 text-gray-300">Gestión de Resultados</h2>
            <p class="text-gray-500">Aquí se cargará la lógica y las tablas de resultados.</p>
            
            <button id="saveResultBtn" class="mt-4 px-6 py-2 rounded-lg font-bold btn-primary hover:bg-red-700 transition">Guardar Resultado (Simulado)</button>
        </div>
    </div>

    <script>
        // ====================================================================
        // EJEMPLOS DE USO EN TU JAVASCRIPT
        // ====================================================================

        function testAlerta(tipo) {
            let mensaje;
            switch(tipo) {
                case 'exito':
                    mensaje = "¡Resultado guardado correctamente!";
                    break;
                case 'error':
                    // Este es el tipo de error que vendría del backend (ej: el 500 que corregimos)
                    mensaje = "Error: No se pudo guardar. Columna 'user' inexistente o error en la DB.";
                    break;
                case 'advertencia':
                    mensaje = "El campo de puntos está vacío. Se guardará con 0.";
                    break;
                case 'info':
                default:
                    mensaje = "Cargando datos de la base de datos...";
                    break;
            }
            // Llama a la función global disponible gracias a alertas.js
            mostrarAlerta(mensaje, tipo); 
        }

        async function testConfirmacion() {
            // Llama a la función global disponible gracias a alertas.js
            const confirmado = await mostrarConfirmacion("¿Deseas realmente eliminar este evento? Esto afectará a todos los resultados asociados.");
            
            if (confirmado) {
                mostrarAlerta("Elemento marcado para eliminación.", 'advertencia', 3000);
            } else {
                mostrarAlerta("Acción cancelada.", 'info', 2000);
            }
        }

        // Simulación de la función handleSaveResult que tenías antes
        document.getElementById('saveResultBtn').addEventListener('click', () => {
             // Simulación de una llamada API exitosa/fallida
             const success = Math.random() > 0.5;

             if (success) {
                testAlerta('exito');
             } else {
                testAlerta('error');
             }
        });

        // NOTA IMPORTANTE: Para que los íconos funcionen, debes asegurarte de que el enlace de 
        // Bootstrap Icons esté activo y que tus archivos alertas.css y alertas.js estén accesibles 
        // en las rutas indicadas (en este caso, en la misma carpeta).
    </script>
</body>
</html>